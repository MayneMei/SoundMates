# 1.已完成的工作

## 1.1 后端 API

**1.1.1 User:**

- 用户注册
- 用户登录
- 验证邮件发送
- 邮件验证
- 用户登出
- 用户密码重置
- 用户查找附近的人（移动端代码未开发，无法测试）

**1.1.2 第三方音乐平台 API 引用：**

- Spotify
- Toutube（待定）
- Apple（待定）

**1.1.3 Friendship：**

- 创建友谊关系
- 更新友谊状态
- 获取用户好友列表
- 查看特定友谊关系信息
- 删除友谊关系（谨慎使用）

**1.1.4 Music:**

- 查询第三方平台音乐信息（目前仅支持 Spotify）

**1.1.5 其他工作：**

- 引入 passport 令牌机制
- 规范了接口返回格式（详细讲解）

| 字段               | 含义     | 值                   |
| ------------------ | -------- | -------------------- |
| status（required） | 相应状态 | success，fail，error |
| message            | 相关信息 | 见具体响应           |
| data               | 返回数据 | 见具体响应           |

例子：

```javascript
//success
res.status(201).json({
  status: "success",
  message: "User registered! Please verify your email.",
  data: {
    userId: newUser._id, // Send back the new user's ID for the next step
  },
});
//fail
res.status(400).json({
  status: "fail",
  message: "Invalid or expired verification token.",
});
//error
res.status(500).json({
  status: "error",
  message: error.message,
});
```
